//////////////////////////////////////////////////////////////////////
// Vars
//////////////////////////////////////////////////////////////////////

var express 	= require('express');
var nunjucks 	= require('nunjucks')
var app 		= express();

// set the port of our application
// process.env.PORT lets the port be set by Heroku
var port = process.env.PORT || 8000;

//////////////////////////////////////////////////////////////////////
// Templating
//////////////////////////////////////////////////////////////////////

// set the view engine to jade
app.set('view engine', 'nunjucks');

app.set('views', __dirname + '/views');


nunjucks.configure('views', {
    autoescape: true,
    express: app
});

//////////////////////////////////////////////////////////////////////
// Static assets
//////////////////////////////////////////////////////////////////////

// make express look in the public directory for assets (css/js/img)
app.use(express.static(__dirname + '/public'));

//////////////////////////////////////////////////////////////////////
// Routes
//////////////////////////////////////////////////////////////////////

app.get('/', function(req, res) {
	res.render('index.html');
});

app.get('/columbus', function (req, res) {
  res.render('columbus.html');
});

app.get('/hackett', function (req, res) {
  res.render('hackett.html');
});

app.get('/offers', function (req, res) {
  res.render('offers.html');
});

//////////////////////////////////////////////////////////////////////
// Server
//////////////////////////////////////////////////////////////////////

app.listen(port, function() {
	console.log('Our app is running on http://localhost:' + port);
});